<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="469px" preserveAspectRatio="none" style="width:474px;height:469px;" version="1.1" viewBox="0 0 474 469" width="474px" zoomAndPan="magnify"><defs><filter height="300%" id="fvqt1f20krs72" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster de.gematik.ti.cardreader.provider.bluetooth.feitian.entities--><polygon fill="#FFFFFF" filter="url(#fvqt1f20krs72)" points="22,80,442,80,449,103.6094,452,103.6094,452,457,22,457,22,80" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="449" y1="103.6094" y2="103.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="414" x="26" y="96.5332">de.gematik.ti.cardreader.provider.bluetooth.feitian.entities</text><!--class FeitianCard--><rect fill="#FEFECE" filter="url(#fvqt1f20krs72)" height="324.7188" id="FeitianCard" style="stroke: #A80036; stroke-width: 1.5;" width="301" x="86.5" y="116"/><ellipse cx="200.75" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M202.75,128.5 Q202.9531,128 203.1875,127.75 Q203.4219,127.5 203.6875,127.5 Q204.1563,127.5 204.4531,127.7813 Q204.75,128.0625 204.75,128.7188 L204.75,130.2813 Q204.75,130.9375 204.4688,131.2188 Q204.1875,131.5 203.75,131.5 Q203.3594,131.5 203.1094,131.3281 Q202.8594,131.1563 202.75,130.7031 Q202.7031,130.3906 202.5313,130.2188 Q202.2188,129.8906 201.6563,129.6953 Q201.0938,129.5 200.5313,129.5 Q199.8281,129.5 199.2422,129.7813 Q198.6563,130.0625 198.2031,130.6875 Q197.75,131.3125 197.75,132.1719 L197.75,133.0938 Q197.75,134.125 198.5938,134.8125 Q199.4375,135.5 200.9375,135.5 Q201.8281,135.5 202.4531,135.2969 Q202.8125,135.1875 203.2188,134.8281 Q203.4844,134.625 203.625,134.5625 Q203.7656,134.5 203.9375,134.5 Q204.2656,134.5 204.5078,134.7578 Q204.75,135.0156 204.75,135.375 Q204.75,135.7188 204.4063,136.125 Q203.9063,136.7188 203.1094,137.0469 Q202.0625,137.5 200.7813,137.5 Q199.2813,137.5 198.0781,136.9063 Q197.1094,136.4375 196.4297,135.4219 Q195.75,134.4063 195.75,133.2031 L195.75,132.1094 Q195.75,130.8594 196.3516,129.7656 Q196.9531,128.6719 198.0078,128.0859 Q199.0625,127.5 200.25,127.5 Q200.9688,127.5 201.5938,127.75 Q202.2188,128 202.75,128.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="221.25" y="136.9102">FeitianCard</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="87.5" x2="386.5" y1="148" y2="148"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="94.5" y="157.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="106.5" y="163.4189">bluetoothCard : Card</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="94.5" y="171.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="106.5" y="177.2549">feitianCardAtr : byte[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="94.5" y="185.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="275" x="106.5" y="191.0908">MANAGE_CHANNEL_COMMAND_OPEN : CommandAPDU</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="94.5" y="198.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="128" x="106.5" y="204.9268">RESPONSE_SUCCESS : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="94.5" y="212.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="106.5" y="218.7627">exclusiveThread : Thread</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="94.5" y="226.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="106.5" y="232.5986">props : Properties</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="94.5" y="240.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="106.5" y="246.4346">cardStatusHandler : Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="87.5" x2="386.5" y1="252.8516" y2="252.8516"/><ellipse cx="97.5" cy="265.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="106.5" y="268.2705">FeitianCard()</text><ellipse cx="97.5" cy="279.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="106.5" y="282.1064">getATR()</text><ellipse cx="97.5" cy="292.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="106.5" y="295.9424">getProtocol()</text><ellipse cx="97.5" cy="306.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="106.5" y="309.7783">getBasicChannel()</text><ellipse cx="97.5" cy="320.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="106.5" y="323.6143">openLogicalChannel()</text><polygon fill="#4177AF" points="97.5,330.4492,93.5,336.4492,101.5,336.4492" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="106.5" y="337.4502">transceive()</text><ellipse cx="97.5" cy="348.2852" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="106.5" y="351.2861">beginExclusive()</text><ellipse cx="97.5" cy="362.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="106.5" y="365.1221">endExclusive()</text><ellipse cx="97.5" cy="375.957" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="106.5" y="378.958">transmitControlCommand()</text><ellipse cx="97.5" cy="389.793" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="106.5" y="392.7939">disconnect()</text><ellipse cx="97.5" cy="403.6289" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="106.5" y="406.6299">checkExclusive()</text><ellipse cx="97.5" cy="417.4648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="106.5" y="420.4658">getBluetoothCard()</text><polygon fill="#4177AF" points="97.5,427.3008,93.5,433.3008,101.5,433.3008" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="106.5" y="434.3018">checkCardOpen()</text><!--class Card--><rect fill="#FEFECE" filter="url(#fvqt1f20krs72)" height="48" id="Card" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="207.5" y="8"/><ellipse cx="222.5" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224.5,20.5 Q224.7031,20 224.9375,19.75 Q225.1719,19.5 225.4375,19.5 Q225.9063,19.5 226.2031,19.7813 Q226.5,20.0625 226.5,20.7188 L226.5,22.2813 Q226.5,22.9375 226.2188,23.2188 Q225.9375,23.5 225.5,23.5 Q225.1094,23.5 224.8594,23.3281 Q224.6094,23.1563 224.5,22.7031 Q224.4531,22.3906 224.2813,22.2188 Q223.9688,21.8906 223.4063,21.6953 Q222.8438,21.5 222.2813,21.5 Q221.5781,21.5 220.9922,21.7813 Q220.4063,22.0625 219.9531,22.6875 Q219.5,23.3125 219.5,24.1719 L219.5,25.0938 Q219.5,26.125 220.3438,26.8125 Q221.1875,27.5 222.6875,27.5 Q223.5781,27.5 224.2031,27.2969 Q224.5625,27.1875 224.9688,26.8281 Q225.2344,26.625 225.375,26.5625 Q225.5156,26.5 225.6875,26.5 Q226.0156,26.5 226.2578,26.7578 Q226.5,27.0156 226.5,27.375 Q226.5,27.7188 226.1563,28.125 Q225.6563,28.7188 224.8594,29.0469 Q223.8125,29.5 222.5313,29.5 Q221.0313,29.5 219.8281,28.9063 Q218.8594,28.4375 218.1797,27.4219 Q217.5,26.4063 217.5,25.2031 L217.5,24.1094 Q217.5,22.8594 218.1016,21.7656 Q218.7031,20.6719 219.7578,20.0859 Q220.8125,19.5 222,19.5 Q222.7188,19.5 223.3438,19.75 Q223.9688,20 224.5,20.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="236.5" y="28.9102">Card</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="208.5" x2="265.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="208.5" x2="265.5" y1="48" y2="48"/><!--link Card to FeitianCard--><path d="M237,76.267 C237,88.02 237,101.476 237,115.735 " fill="none" id="Card-FeitianCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="230,76.002,237,56.002,244,76.002,230,76.002" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

package de.gematik.ti.cardreader.provider.bluetooth.feitian.entities {
      class FeitianCard {
          - bluetoothCard : Card
          - feitianCardAtr : byte[]
          {static} - MANAGE_CHANNEL_COMMAND_OPEN : CommandAPDU
          {static} - RESPONSE_SUCCESS : int
          - exclusiveThread : Thread
          - props : Properties
          - cardStatusHandler : Handler
          + FeitianCard()
          + getATR()
          + getProtocol()
          + getBasicChannel()
          + openLogicalChannel()
          ~ transceive()
          + beginExclusive()
          + endExclusive()
          + transmitControlCommand()
          + disconnect()
          + checkExclusive()
          + getBluetoothCard()
          ~ checkCardOpen()
      }
    }

    FeitianCard -up-|> Card

@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b03
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>