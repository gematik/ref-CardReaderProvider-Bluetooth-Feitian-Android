<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1286px" preserveAspectRatio="none" style="width:2434px;height:1286px;" version="1.1" viewBox="0 0 2434 1286" width="2434px" zoomAndPan="magnify"><defs><filter height="300%" id="fl5mjaz56b0dx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="544" x="949" y="18.6855">CARDREADER.PROVIDER.BLUETOOTH.FEITIAN's Class Diagram</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="0" x="1223.5" y="41.3262"/><!--cluster de.gematik.ti.cardreader.provider.bluetooth.feitian--><polygon fill="#FFFFFF" filter="url(#fl5mjaz56b0dx)" points="324,148.2813,687,148.2813,694,171.8906,1836,171.8906,1836,1274.2813,324,1274.2813,324,148.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="324" x2="694" y1="171.8906" y2="171.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="357" x="328" y="164.8145">de.gematik.ti.cardreader.provider.bluetooth.feitian</text><!--cluster de.gematik.ti.cardreader.provider.bluetooth.feitian.control--><polygon fill="#FFFFFF" filter="url(#fl5mjaz56b0dx)" points="348,526.2813,765,526.2813,772,549.8906,1253,549.8906,1253,1160.2813,348,1160.2813,348,526.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="348" x2="772" y1="549.8906" y2="549.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="411" x="352" y="542.8145">de.gematik.ti.cardreader.provider.bluetooth.feitian.control</text><!--cluster de.gematik.ti.cardreader.provider.bluetooth.feitian.entities--><polygon fill="#FFFFFF" filter="url(#fl5mjaz56b0dx)" points="1277,192.2813,1697,192.2813,1704,215.8906,1812,215.8906,1812,1250.2813,1277,1250.2813,1277,192.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1277" x2="1704" y1="215.8906" y2="215.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="414" x="1281" y="208.8145">de.gematik.ti.cardreader.provider.bluetooth.feitian.entities</text><!--cluster de.gematik.ti.cardreader.provider.api--><polygon fill="#FFFFFF" filter="url(#fl5mjaz56b0dx)" points="22,984.7813,290,984.7813,297,1008.3906,300,1008.3906,300,1187.7813,22,1187.7813,22,984.7813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="297" y1="1008.3906" y2="1008.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="262" x="26" y="1001.3145">de.gematik.ti.cardreader.provider.api</text><!--class CardStatusHandler--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="103.3438" id="CardStatusHandler" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="364.5" y="686.2813"/><ellipse cx="386.25" cy="702.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M388.25,698.7813 Q388.4531,698.2813 388.6875,698.0313 Q388.9219,697.7813 389.1875,697.7813 Q389.6563,697.7813 389.9531,698.0625 Q390.25,698.3438 390.25,699 L390.25,700.5625 Q390.25,701.2188 389.9688,701.5 Q389.6875,701.7813 389.25,701.7813 Q388.8594,701.7813 388.6094,701.6094 Q388.3594,701.4375 388.25,700.9844 Q388.2031,700.6719 388.0313,700.5 Q387.7188,700.1719 387.1563,699.9766 Q386.5938,699.7813 386.0313,699.7813 Q385.3281,699.7813 384.7422,700.0625 Q384.1563,700.3438 383.7031,700.9688 Q383.25,701.5938 383.25,702.4531 L383.25,703.375 Q383.25,704.4063 384.0938,705.0938 Q384.9375,705.7813 386.4375,705.7813 Q387.3281,705.7813 387.9531,705.5781 Q388.3125,705.4688 388.7188,705.1094 Q388.9844,704.9063 389.125,704.8438 Q389.2656,704.7813 389.4375,704.7813 Q389.7656,704.7813 390.0078,705.0391 Q390.25,705.2969 390.25,705.6563 Q390.25,706 389.9063,706.4063 Q389.4063,707 388.6094,707.3281 Q387.5625,707.7813 386.2813,707.7813 Q384.7813,707.7813 383.5781,707.1875 Q382.6094,706.7188 381.9297,705.7031 Q381.25,704.6875 381.25,703.4844 L381.25,702.3906 Q381.25,701.1406 381.8516,700.0469 Q382.4531,698.9531 383.5078,698.3672 Q384.5625,697.7813 385.75,697.7813 Q386.4688,697.7813 387.0938,698.0313 Q387.7188,698.2813 388.25,698.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="401.75" y="707.1914">CardStatusHandler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.5" x2="516.5" y1="718.2813" y2="718.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="372.5" y="727.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="65" x="384.5" y="733.7002">LOG : Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.5" x2="516.5" y1="740.1172" y2="740.1172"/><ellipse cx="375.5" cy="752.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="384.5" y="755.5361">CardStatusHandler()</text><ellipse cx="375.5" cy="766.3711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="384.5" y="769.3721">handleMessage()</text><ellipse cx="375.5" cy="780.207" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="384.5" y="783.208">informAboutCardPresent()</text><!--class FeitianBluetoothReceiver--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="75.6719" id="FeitianBluetoothReceiver" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="1039.5" y="1068.2813"/><ellipse cx="1054.5" cy="1084.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1056.5,1080.7813 Q1056.7031,1080.2813 1056.9375,1080.0313 Q1057.1719,1079.7813 1057.4375,1079.7813 Q1057.9063,1079.7813 1058.2031,1080.0625 Q1058.5,1080.3438 1058.5,1081 L1058.5,1082.5625 Q1058.5,1083.2188 1058.2188,1083.5 Q1057.9375,1083.7813 1057.5,1083.7813 Q1057.1094,1083.7813 1056.8594,1083.6094 Q1056.6094,1083.4375 1056.5,1082.9844 Q1056.4531,1082.6719 1056.2813,1082.5 Q1055.9688,1082.1719 1055.4063,1081.9766 Q1054.8438,1081.7813 1054.2813,1081.7813 Q1053.5781,1081.7813 1052.9922,1082.0625 Q1052.4063,1082.3438 1051.9531,1082.9688 Q1051.5,1083.5938 1051.5,1084.4531 L1051.5,1085.375 Q1051.5,1086.4063 1052.3438,1087.0938 Q1053.1875,1087.7813 1054.6875,1087.7813 Q1055.5781,1087.7813 1056.2031,1087.5781 Q1056.5625,1087.4688 1056.9688,1087.1094 Q1057.2344,1086.9063 1057.375,1086.8438 Q1057.5156,1086.7813 1057.6875,1086.7813 Q1058.0156,1086.7813 1058.2578,1087.0391 Q1058.5,1087.2969 1058.5,1087.6563 Q1058.5,1088 1058.1563,1088.4063 Q1057.6563,1089 1056.8594,1089.3281 Q1055.8125,1089.7813 1054.5313,1089.7813 Q1053.0313,1089.7813 1051.8281,1089.1875 Q1050.8594,1088.7188 1050.1797,1087.7031 Q1049.5,1086.6875 1049.5,1085.4844 L1049.5,1084.3906 Q1049.5,1083.1406 1050.1016,1082.0469 Q1050.7031,1080.9531 1051.7578,1080.3672 Q1052.8125,1079.7813 1054,1079.7813 Q1054.7188,1079.7813 1055.3438,1080.0313 Q1055.9688,1080.2813 1056.5,1080.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="1068.5" y="1089.1914">FeitianBluetoothReceiver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040.5" x2="1207.5" y1="1100.2813" y2="1100.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1047.5" y="1109.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="65" x="1059.5" y="1115.7002">LOG : Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1040.5" x2="1207.5" y1="1122.1172" y2="1122.1172"/><ellipse cx="1050.5" cy="1134.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1059.5" y="1137.5361">onReceive()</text><!--class FeitianCardReaderController--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="310.8828" id="FeitianCardReaderController" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="1013" y="582.2813"/><ellipse cx="1042.85" cy="598.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1044.85,594.7813 Q1045.0531,594.2813 1045.2875,594.0313 Q1045.5219,593.7813 1045.7875,593.7813 Q1046.2563,593.7813 1046.5531,594.0625 Q1046.85,594.3438 1046.85,595 L1046.85,596.5625 Q1046.85,597.2188 1046.5688,597.5 Q1046.2875,597.7813 1045.85,597.7813 Q1045.4594,597.7813 1045.2094,597.6094 Q1044.9594,597.4375 1044.85,596.9844 Q1044.8031,596.6719 1044.6313,596.5 Q1044.3188,596.1719 1043.7563,595.9766 Q1043.1938,595.7813 1042.6313,595.7813 Q1041.9281,595.7813 1041.3422,596.0625 Q1040.7563,596.3438 1040.3031,596.9688 Q1039.85,597.5938 1039.85,598.4531 L1039.85,599.375 Q1039.85,600.4063 1040.6938,601.0938 Q1041.5375,601.7813 1043.0375,601.7813 Q1043.9281,601.7813 1044.5531,601.5781 Q1044.9125,601.4688 1045.3188,601.1094 Q1045.5844,600.9063 1045.725,600.8438 Q1045.8656,600.7813 1046.0375,600.7813 Q1046.3656,600.7813 1046.6078,601.0391 Q1046.85,601.2969 1046.85,601.6563 Q1046.85,602 1046.5063,602.4063 Q1046.0063,603 1045.2094,603.3281 Q1044.1625,603.7813 1042.8813,603.7813 Q1041.3813,603.7813 1040.1781,603.1875 Q1039.2094,602.7188 1038.5297,601.7031 Q1037.85,600.6875 1037.85,599.4844 L1037.85,598.3906 Q1037.85,597.1406 1038.4516,596.0469 Q1039.0531,594.9531 1040.1078,594.3672 Q1041.1625,593.7813 1042.35,593.7813 Q1043.0688,593.7813 1043.6938,594.0313 Q1044.3188,594.2813 1044.85,594.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="159" x="1060.15" y="603.1914">FeitianCardReaderController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1014" x2="1236" y1="614.2813" y2="614.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="623.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="65" x="1033" y="629.7002">LOG : Logger</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="637.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="185" x="1033" y="643.5361">instance : FeitianCardReaderController</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="651.3711"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="1033" y="657.3721">cardReaders : Map&lt;String, ICardReader&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="665.207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="1033" y="671.208">bluetoothAdapter : BluetoothAdapter</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="679.043"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="1033" y="685.0439">pairedDevices : Set&lt;BluetoothDevice&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="692.8789"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1033" y="698.8799">context : Context</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1014" x2="1236" y1="705.2969" y2="705.2969"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="714.7148"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="1033" y="720.7158">FeitianCardReaderController()</text><ellipse cx="1024" cy="731.5508" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="64" x="1033" y="734.5518">getInstance()</text><ellipse cx="1024" cy="745.3867" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="1033" y="748.3877">getCardReaders()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="756.2227"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="1033" y="762.2236">init()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="770.0586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="1033" y="776.0596">intitializeBluetoothAdapter()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="783.8945"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1033" y="789.8955">createReceiver()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="797.7305"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="1033" y="803.7314">readDevices()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="811.5664"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="1033" y="817.5674">checkUuids()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1021" y="825.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="1033" y="831.4033">addNewAndInform()</text><polygon fill="#4177AF" points="1024,838.2383,1020,844.2383,1028,844.2383" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1033" y="845.2393">removeAndInform()</text><ellipse cx="1024" cy="856.0742" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="1033" y="859.0752">checkAdapter()</text><ellipse cx="1024" cy="869.9102" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="1033" y="872.9111">actualizeReaderList()</text><ellipse cx="1024" cy="883.7461" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="1033" y="886.7471">actualizeSocketToDevice()</text><!--class FeitianCardReaderProvider--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="103.3438" id="FeitianCardReaderProvider" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="552.5" y="686.2813"/><ellipse cx="582.35" cy="702.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M584.35,698.7813 Q584.5531,698.2813 584.7875,698.0313 Q585.0219,697.7813 585.2875,697.7813 Q585.7563,697.7813 586.0531,698.0625 Q586.35,698.3438 586.35,699 L586.35,700.5625 Q586.35,701.2188 586.0688,701.5 Q585.7875,701.7813 585.35,701.7813 Q584.9594,701.7813 584.7094,701.6094 Q584.4594,701.4375 584.35,700.9844 Q584.3031,700.6719 584.1313,700.5 Q583.8188,700.1719 583.2563,699.9766 Q582.6938,699.7813 582.1313,699.7813 Q581.4281,699.7813 580.8422,700.0625 Q580.2563,700.3438 579.8031,700.9688 Q579.35,701.5938 579.35,702.4531 L579.35,703.375 Q579.35,704.4063 580.1938,705.0938 Q581.0375,705.7813 582.5375,705.7813 Q583.4281,705.7813 584.0531,705.5781 Q584.4125,705.4688 584.8188,705.1094 Q585.0844,704.9063 585.225,704.8438 Q585.3656,704.7813 585.5375,704.7813 Q585.8656,704.7813 586.1078,705.0391 Q586.35,705.2969 586.35,705.6563 Q586.35,706 586.0063,706.4063 Q585.5063,707 584.7094,707.3281 Q583.6625,707.7813 582.3813,707.7813 Q580.8813,707.7813 579.6781,707.1875 Q578.7094,706.7188 578.0297,705.7031 Q577.35,704.6875 577.35,703.4844 L577.35,702.3906 Q577.35,701.1406 577.9516,700.0469 Q578.5531,698.9531 579.6078,698.3672 Q580.6625,697.7813 581.85,697.7813 Q582.5688,697.7813 583.1938,698.0313 Q583.8188,698.2813 584.35,698.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="599.65" y="707.1914">FeitianCardReaderProvider</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="553.5" x2="766.5" y1="718.2813" y2="718.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="560.5" y="727.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="572.5" y="733.7002">providerDescriptor : ProviderDescriptor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="553.5" x2="766.5" y1="740.1172" y2="740.1172"/><ellipse cx="563.5" cy="752.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="572.5" y="755.5361">FeitianCardReaderProvider()</text><ellipse cx="563.5" cy="766.3711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="572.5" y="769.3721">getCardReaderController()</text><ellipse cx="563.5" cy="780.207" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="572.5" y="783.208">getDescriptor()</text><!--class FeitianConnector--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="158.6875" id="FeitianConnector" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="802.5" y="658.2813"/><ellipse cx="839.55" cy="674.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M841.55,670.7813 Q841.7531,670.2813 841.9875,670.0313 Q842.2219,669.7813 842.4875,669.7813 Q842.9563,669.7813 843.2531,670.0625 Q843.55,670.3438 843.55,671 L843.55,672.5625 Q843.55,673.2188 843.2688,673.5 Q842.9875,673.7813 842.55,673.7813 Q842.1594,673.7813 841.9094,673.6094 Q841.6594,673.4375 841.55,672.9844 Q841.5031,672.6719 841.3313,672.5 Q841.0188,672.1719 840.4563,671.9766 Q839.8938,671.7813 839.3313,671.7813 Q838.6281,671.7813 838.0422,672.0625 Q837.4563,672.3438 837.0031,672.9688 Q836.55,673.5938 836.55,674.4531 L836.55,675.375 Q836.55,676.4063 837.3938,677.0938 Q838.2375,677.7813 839.7375,677.7813 Q840.6281,677.7813 841.2531,677.5781 Q841.6125,677.4688 842.0188,677.1094 Q842.2844,676.9063 842.425,676.8438 Q842.5656,676.7813 842.7375,676.7813 Q843.0656,676.7813 843.3078,677.0391 Q843.55,677.2969 843.55,677.6563 Q843.55,678 843.2063,678.4063 Q842.7063,679 841.9094,679.3281 Q840.8625,679.7813 839.5813,679.7813 Q838.0813,679.7813 836.8781,679.1875 Q835.9094,678.7188 835.2297,677.7031 Q834.55,676.6875 834.55,675.4844 L834.55,674.3906 Q834.55,673.1406 835.1516,672.0469 Q835.7531,670.9531 836.8078,670.3672 Q837.8625,669.7813 839.05,669.7813 Q839.7688,669.7813 840.3938,670.0313 Q841.0188,670.2813 841.55,670.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="858.45" y="679.1914">FeitianConnector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="803.5" x2="976.5" y1="690.2813" y2="690.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="810.5" y="699.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="822.5" y="705.7002">mSocket : BluetoothSocket</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="810.5" y="713.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="822.5" y="719.5361">inputStream : InputStream</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="810.5" y="727.3711"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="822.5" y="733.3721">outputStream : OutputStream</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="810.5" y="741.207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="822.5" y="747.208">feitianDevice : BluetoothDevice</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="803.5" x2="976.5" y1="753.625" y2="753.625"/><ellipse cx="813.5" cy="766.043" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="822.5" y="769.0439">FeitianConnector()</text><ellipse cx="813.5" cy="779.8789" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="822.5" y="782.8799">run()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="810.5" y="790.7148"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="822.5" y="796.7158">createSocket()</text><ellipse cx="813.5" cy="807.5508" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="822.5" y="810.5518">getFeitianCard()</text><!--class FeitianCard--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="324.7188" id="FeitianCard" style="stroke: #A80036; stroke-width: 1.5;" width="301" x="1494.5" y="575.2813"/><ellipse cx="1608.75" cy="591.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1610.75,587.7813 Q1610.9531,587.2813 1611.1875,587.0313 Q1611.4219,586.7813 1611.6875,586.7813 Q1612.1563,586.7813 1612.4531,587.0625 Q1612.75,587.3438 1612.75,588 L1612.75,589.5625 Q1612.75,590.2188 1612.4688,590.5 Q1612.1875,590.7813 1611.75,590.7813 Q1611.3594,590.7813 1611.1094,590.6094 Q1610.8594,590.4375 1610.75,589.9844 Q1610.7031,589.6719 1610.5313,589.5 Q1610.2188,589.1719 1609.6563,588.9766 Q1609.0938,588.7813 1608.5313,588.7813 Q1607.8281,588.7813 1607.2422,589.0625 Q1606.6563,589.3438 1606.2031,589.9688 Q1605.75,590.5938 1605.75,591.4531 L1605.75,592.375 Q1605.75,593.4063 1606.5938,594.0938 Q1607.4375,594.7813 1608.9375,594.7813 Q1609.8281,594.7813 1610.4531,594.5781 Q1610.8125,594.4688 1611.2188,594.1094 Q1611.4844,593.9063 1611.625,593.8438 Q1611.7656,593.7813 1611.9375,593.7813 Q1612.2656,593.7813 1612.5078,594.0391 Q1612.75,594.2969 1612.75,594.6563 Q1612.75,595 1612.4063,595.4063 Q1611.9063,596 1611.1094,596.3281 Q1610.0625,596.7813 1608.7813,596.7813 Q1607.2813,596.7813 1606.0781,596.1875 Q1605.1094,595.7188 1604.4297,594.7031 Q1603.75,593.6875 1603.75,592.4844 L1603.75,591.3906 Q1603.75,590.1406 1604.3516,589.0469 Q1604.9531,587.9531 1606.0078,587.3672 Q1607.0625,586.7813 1608.25,586.7813 Q1608.9688,586.7813 1609.5938,587.0313 Q1610.2188,587.2813 1610.75,587.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1629.25" y="596.1914">FeitianCard</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1495.5" x2="1794.5" y1="607.2813" y2="607.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1502.5" y="616.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="1514.5" y="622.7002">bluetoothCard : Card</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1502.5" y="630.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="1514.5" y="636.5361">feitianCardAtr : byte[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1502.5" y="644.3711"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="275" x="1514.5" y="650.3721">MANAGE_CHANNEL_COMMAND_OPEN : CommandAPDU</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1502.5" y="658.207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="128" x="1514.5" y="664.208">RESPONSE_SUCCESS : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1502.5" y="672.043"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="1514.5" y="678.0439">exclusiveThread : Thread</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1502.5" y="685.8789"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1514.5" y="691.8799">props : Properties</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1502.5" y="699.7148"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1514.5" y="705.7158">cardStatusHandler : Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1495.5" x2="1794.5" y1="712.1328" y2="712.1328"/><ellipse cx="1505.5" cy="724.5508" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="1514.5" y="727.5518">FeitianCard()</text><ellipse cx="1505.5" cy="738.3867" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="1514.5" y="741.3877">getATR()</text><ellipse cx="1505.5" cy="752.2227" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="1514.5" y="755.2236">getProtocol()</text><ellipse cx="1505.5" cy="766.0586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1514.5" y="769.0596">getBasicChannel()</text><ellipse cx="1505.5" cy="779.8945" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="1514.5" y="782.8955">openLogicalChannel()</text><polygon fill="#4177AF" points="1505.5,789.7305,1501.5,795.7305,1509.5,795.7305" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1514.5" y="796.7314">transceive()</text><ellipse cx="1505.5" cy="807.5664" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="1514.5" y="810.5674">beginExclusive()</text><ellipse cx="1505.5" cy="821.4023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="1514.5" y="824.4033">endExclusive()</text><ellipse cx="1505.5" cy="835.2383" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="1514.5" y="838.2393">transmitControlCommand()</text><ellipse cx="1505.5" cy="849.0742" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="1514.5" y="852.0752">disconnect()</text><ellipse cx="1505.5" cy="862.9102" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="1514.5" y="865.9111">checkExclusive()</text><ellipse cx="1505.5" cy="876.7461" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1514.5" y="879.7471">getBluetoothCard()</text><polygon fill="#4177AF" points="1505.5,886.582,1501.5,892.582,1509.5,892.582" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1514.5" y="893.583">checkCardOpen()</text><!--class FeitianCardChannel--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="255.5391" id="FeitianCardChannel" style="stroke: #A80036; stroke-width: 1.5;" width="308" x="1488" y="978.2813"/><ellipse cx="1582.25" cy="994.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1584.25,990.7813 Q1584.4531,990.2813 1584.6875,990.0313 Q1584.9219,989.7813 1585.1875,989.7813 Q1585.6563,989.7813 1585.9531,990.0625 Q1586.25,990.3438 1586.25,991 L1586.25,992.5625 Q1586.25,993.2188 1585.9688,993.5 Q1585.6875,993.7813 1585.25,993.7813 Q1584.8594,993.7813 1584.6094,993.6094 Q1584.3594,993.4375 1584.25,992.9844 Q1584.2031,992.6719 1584.0313,992.5 Q1583.7188,992.1719 1583.1563,991.9766 Q1582.5938,991.7813 1582.0313,991.7813 Q1581.3281,991.7813 1580.7422,992.0625 Q1580.1563,992.3438 1579.7031,992.9688 Q1579.25,993.5938 1579.25,994.4531 L1579.25,995.375 Q1579.25,996.4063 1580.0938,997.0938 Q1580.9375,997.7813 1582.4375,997.7813 Q1583.3281,997.7813 1583.9531,997.5781 Q1584.3125,997.4688 1584.7188,997.1094 Q1584.9844,996.9063 1585.125,996.8438 Q1585.2656,996.7813 1585.4375,996.7813 Q1585.7656,996.7813 1586.0078,997.0391 Q1586.25,997.2969 1586.25,997.6563 Q1586.25,998 1585.9063,998.4063 Q1585.4063,999 1584.6094,999.3281 Q1583.5625,999.7813 1582.2813,999.7813 Q1580.7813,999.7813 1579.5781,999.1875 Q1578.6094,998.7188 1577.9297,997.7031 Q1577.25,996.6875 1577.25,995.4844 L1577.25,994.3906 Q1577.25,993.1406 1577.8516,992.0469 Q1578.4531,990.9531 1579.5078,990.3672 Q1580.5625,989.7813 1581.75,989.7813 Q1582.4688,989.7813 1583.0938,990.0313 Q1583.7188,990.2813 1584.25,990.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="1602.75" y="999.1914">FeitianCardChannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1489" x2="1795" y1="1010.2813" y2="1010.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1019.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1508" y="1025.7002">channelNo : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1033.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="282" x="1508" y="1039.5361">MANAGE_CHANNEL_COMMAND_CLOSE : CommandAPDU</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1047.3711"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="128" x="1508" y="1053.3721">RESPONSE_SUCCESS : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1061.207"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="187" x="1508" y="1067.208">LOW_CHANNEL_NUMBER_VALUE : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1075.043"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="159" x="1508" y="1081.0439">MAX_CHANNEL_NO_VALUE : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1088.8789"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="1508" y="1094.8799">channelClosed : boolean</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1489" x2="1795" y1="1101.2969" y2="1101.2969"/><ellipse cx="1499" cy="1113.7148" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1508" y="1116.7158">FeitianCardChannel()</text><ellipse cx="1499" cy="1127.5508" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1508" y="1130.5518">FeitianCardChannel()</text><ellipse cx="1499" cy="1141.3867" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="1508" y="1144.3877">getCard()</text><ellipse cx="1499" cy="1155.2227" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="1508" y="1158.2236">getChannelNumber()</text><ellipse cx="1499" cy="1169.0586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="1508" y="1172.0596">transmit()</text><ellipse cx="1499" cy="1182.8945" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="1508" y="1185.8955">transmit()</text><ellipse cx="1499" cy="1196.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="1508" y="1199.7314">close()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1207.5664"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="1508" y="1213.5674">modifyCommandForLogicalChannel()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1496" y="1221.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1508" y="1227.4033">checkChannelClosed()</text><!--class FeitianCardReader--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="214.0313" id="FeitianCardReader" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="1293.5" y="248.2813"/><ellipse cx="1308.5" cy="264.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1310.5,260.7813 Q1310.7031,260.2813 1310.9375,260.0313 Q1311.1719,259.7813 1311.4375,259.7813 Q1311.9063,259.7813 1312.2031,260.0625 Q1312.5,260.3438 1312.5,261 L1312.5,262.5625 Q1312.5,263.2188 1312.2188,263.5 Q1311.9375,263.7813 1311.5,263.7813 Q1311.1094,263.7813 1310.8594,263.6094 Q1310.6094,263.4375 1310.5,262.9844 Q1310.4531,262.6719 1310.2813,262.5 Q1309.9688,262.1719 1309.4063,261.9766 Q1308.8438,261.7813 1308.2813,261.7813 Q1307.5781,261.7813 1306.9922,262.0625 Q1306.4063,262.3438 1305.9531,262.9688 Q1305.5,263.5938 1305.5,264.4531 L1305.5,265.375 Q1305.5,266.4063 1306.3438,267.0938 Q1307.1875,267.7813 1308.6875,267.7813 Q1309.5781,267.7813 1310.2031,267.5781 Q1310.5625,267.4688 1310.9688,267.1094 Q1311.2344,266.9063 1311.375,266.8438 Q1311.5156,266.7813 1311.6875,266.7813 Q1312.0156,266.7813 1312.2578,267.0391 Q1312.5,267.2969 1312.5,267.6563 Q1312.5,268 1312.1563,268.4063 Q1311.6563,269 1310.8594,269.3281 Q1309.8125,269.7813 1308.5313,269.7813 Q1307.0313,269.7813 1305.8281,269.1875 Q1304.8594,268.7188 1304.1797,267.7031 Q1303.5,266.6875 1303.5,265.4844 L1303.5,264.3906 Q1303.5,263.1406 1304.1016,262.0469 Q1304.7031,260.9531 1305.7578,260.3672 Q1306.8125,259.7813 1308,259.7813 Q1308.7188,259.7813 1309.3438,260.0313 Q1309.9688,260.2813 1310.5,260.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1322.5" y="269.1914">FeitianCardReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1294.5" x2="1429.5" y1="280.2813" y2="280.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1301.5" y="289.6992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="1313.5" y="295.7002">name : String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1301.5" y="303.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="111" x="1313.5" y="309.5361">PROTOCOL_T1 : String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1294.5" x2="1429.5" y1="315.9531" y2="315.9531"/><ellipse cx="1304.5" cy="328.3711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1313.5" y="331.3721">FeitianCardReader()</text><ellipse cx="1304.5" cy="342.207" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="1313.5" y="345.208">initialize()</text><ellipse cx="1304.5" cy="356.043" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1313.5" y="359.0439">isInitialized()</text><ellipse cx="1304.5" cy="369.8789" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="1313.5" y="372.8799">connect()</text><ellipse cx="1304.5" cy="383.7148" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="1313.5" y="386.7158">connect()</text><ellipse cx="1304.5" cy="397.5508" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="1313.5" y="400.5518">getName()</text><ellipse cx="1304.5" cy="411.3867" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="1313.5" y="414.3877">isCardPresent()</text><ellipse cx="1304.5" cy="425.2227" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="1313.5" y="428.2236">waitForCardAbsent()</text><ellipse cx="1304.5" cy="439.0586" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="1313.5" y="442.0596">waitForCardPresent()</text><ellipse cx="1304.5" cy="452.8945" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="1313.5" y="455.8955">setName()</text><!--class CardEventTransmitter--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="131.0156" id="CardEventTransmitter" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="122" y="1040.7813"/><ellipse cx="141.5" cy="1056.7813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M143.5,1053.2813 Q143.7031,1052.7813 143.9375,1052.5313 Q144.1719,1052.2813 144.4375,1052.2813 Q144.9063,1052.2813 145.2031,1052.5625 Q145.5,1052.8438 145.5,1053.5 L145.5,1055.0625 Q145.5,1055.7188 145.2188,1056 Q144.9375,1056.2813 144.5,1056.2813 Q144.1094,1056.2813 143.8594,1056.1094 Q143.6094,1055.9375 143.5,1055.4844 Q143.4531,1055.1719 143.2813,1055 Q142.9688,1054.6719 142.4063,1054.4766 Q141.8438,1054.2813 141.2813,1054.2813 Q140.5781,1054.2813 139.9922,1054.5625 Q139.4063,1054.8438 138.9531,1055.4688 Q138.5,1056.0938 138.5,1056.9531 L138.5,1057.875 Q138.5,1058.9063 139.3438,1059.5938 Q140.1875,1060.2813 141.6875,1060.2813 Q142.5781,1060.2813 143.2031,1060.0781 Q143.5625,1059.9688 143.9688,1059.6094 Q144.2344,1059.4063 144.375,1059.3438 Q144.5156,1059.2813 144.6875,1059.2813 Q145.0156,1059.2813 145.2578,1059.5391 Q145.5,1059.7969 145.5,1060.1563 Q145.5,1060.5 145.1563,1060.9063 Q144.6563,1061.5 143.8594,1061.8281 Q142.8125,1062.2813 141.5313,1062.2813 Q140.0313,1062.2813 138.8281,1061.6875 Q137.8594,1061.2188 137.1797,1060.2031 Q136.5,1059.1875 136.5,1057.9844 L136.5,1056.8906 Q136.5,1055.6406 137.1016,1054.5469 Q137.7031,1053.4531 138.7578,1052.8672 Q139.8125,1052.2813 141,1052.2813 Q141.7188,1052.2813 142.3438,1052.5313 Q142.9688,1052.7813 143.5,1053.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="156.5" y="1061.6914">CardEventTransmitter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="123" x2="283" y1="1072.7813" y2="1072.7813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="130" y="1082.1992"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="65" x="142" y="1088.2002">LOG : Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="123" x2="283" y1="1094.6172" y2="1094.6172"/><polygon fill="#4177AF" points="133,1103.0352,129,1109.0352,137,1109.0352" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="142" y="1110.0361">CardEventTransmitter()</text><ellipse cx="133" cy="1120.8711" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="142" y="1123.8721">informAboutCardPresent()</text><ellipse cx="133" cy="1134.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="142" y="1137.708">informAboutCardAbsent()</text><ellipse cx="133" cy="1148.543" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="142" y="1151.5439">informAboutCardUnknown()</text><ellipse cx="133" cy="1162.3789" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="142" y="1165.3799">informAboutCardTimeout()</text><!--class BroadcastReceiver--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="48" id="BroadcastReceiver" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="1852" y="713.7813"/><ellipse cx="1867" cy="729.7813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1869,726.2813 Q1869.2031,725.7813 1869.4375,725.5313 Q1869.6719,725.2813 1869.9375,725.2813 Q1870.4063,725.2813 1870.7031,725.5625 Q1871,725.8438 1871,726.5 L1871,728.0625 Q1871,728.7188 1870.7188,729 Q1870.4375,729.2813 1870,729.2813 Q1869.6094,729.2813 1869.3594,729.1094 Q1869.1094,728.9375 1869,728.4844 Q1868.9531,728.1719 1868.7813,728 Q1868.4688,727.6719 1867.9063,727.4766 Q1867.3438,727.2813 1866.7813,727.2813 Q1866.0781,727.2813 1865.4922,727.5625 Q1864.9063,727.8438 1864.4531,728.4688 Q1864,729.0938 1864,729.9531 L1864,730.875 Q1864,731.9063 1864.8438,732.5938 Q1865.6875,733.2813 1867.1875,733.2813 Q1868.0781,733.2813 1868.7031,733.0781 Q1869.0625,732.9688 1869.4688,732.6094 Q1869.7344,732.4063 1869.875,732.3438 Q1870.0156,732.2813 1870.1875,732.2813 Q1870.5156,732.2813 1870.7578,732.5391 Q1871,732.7969 1871,733.1563 Q1871,733.5 1870.6563,733.9063 Q1870.1563,734.5 1869.3594,734.8281 Q1868.3125,735.2813 1867.0313,735.2813 Q1865.5313,735.2813 1864.3281,734.6875 Q1863.3594,734.2188 1862.6797,733.2031 Q1862,732.1875 1862,730.9844 L1862,729.8906 Q1862,728.6406 1862.6016,727.5469 Q1863.2031,726.4531 1864.2578,725.8672 Q1865.3125,725.2813 1866.5,725.2813 Q1867.2188,725.2813 1867.8438,725.5313 Q1868.4688,725.7813 1869,726.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="1881" y="734.6914">BroadcastReceiver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1853" x2="1987" y1="745.7813" y2="745.7813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1853" x2="1987" y1="753.7813" y2="753.7813"/><!--class Card--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="48" id="Card" style="stroke: #A80036; stroke-width: 1.5;" width="59" x="2364.5" y="331.2813"/><ellipse cx="2379.5" cy="347.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2381.5,343.7813 Q2381.7031,343.2813 2381.9375,343.0313 Q2382.1719,342.7813 2382.4375,342.7813 Q2382.9063,342.7813 2383.2031,343.0625 Q2383.5,343.3438 2383.5,344 L2383.5,345.5625 Q2383.5,346.2188 2383.2188,346.5 Q2382.9375,346.7813 2382.5,346.7813 Q2382.1094,346.7813 2381.8594,346.6094 Q2381.6094,346.4375 2381.5,345.9844 Q2381.4531,345.6719 2381.2813,345.5 Q2380.9688,345.1719 2380.4063,344.9766 Q2379.8438,344.7813 2379.2813,344.7813 Q2378.5781,344.7813 2377.9922,345.0625 Q2377.4063,345.3438 2376.9531,345.9688 Q2376.5,346.5938 2376.5,347.4531 L2376.5,348.375 Q2376.5,349.4063 2377.3438,350.0938 Q2378.1875,350.7813 2379.6875,350.7813 Q2380.5781,350.7813 2381.2031,350.5781 Q2381.5625,350.4688 2381.9688,350.1094 Q2382.2344,349.9063 2382.375,349.8438 Q2382.5156,349.7813 2382.6875,349.7813 Q2383.0156,349.7813 2383.2578,350.0391 Q2383.5,350.2969 2383.5,350.6563 Q2383.5,351 2383.1563,351.4063 Q2382.6563,352 2381.8594,352.3281 Q2380.8125,352.7813 2379.5313,352.7813 Q2378.0313,352.7813 2376.8281,352.1875 Q2375.8594,351.7188 2375.1797,350.7031 Q2374.5,349.6875 2374.5,348.4844 L2374.5,347.3906 Q2374.5,346.1406 2375.1016,345.0469 Q2375.7031,343.9531 2376.7578,343.3672 Q2377.8125,342.7813 2379,342.7813 Q2379.7188,342.7813 2380.3438,343.0313 Q2380.9688,343.2813 2381.5,343.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="2393.5" y="352.1914">Card</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2365.5" x2="2422.5" y1="363.2813" y2="363.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2365.5" x2="2422.5" y1="371.2813" y2="371.2813"/><!--class CardChannel--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="48" id="CardChannel" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="2023" y="713.7813"/><ellipse cx="2038" cy="729.7813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2040,726.2813 Q2040.2031,725.7813 2040.4375,725.5313 Q2040.6719,725.2813 2040.9375,725.2813 Q2041.4063,725.2813 2041.7031,725.5625 Q2042,725.8438 2042,726.5 L2042,728.0625 Q2042,728.7188 2041.7188,729 Q2041.4375,729.2813 2041,729.2813 Q2040.6094,729.2813 2040.3594,729.1094 Q2040.1094,728.9375 2040,728.4844 Q2039.9531,728.1719 2039.7813,728 Q2039.4688,727.6719 2038.9063,727.4766 Q2038.3438,727.2813 2037.7813,727.2813 Q2037.0781,727.2813 2036.4922,727.5625 Q2035.9063,727.8438 2035.4531,728.4688 Q2035,729.0938 2035,729.9531 L2035,730.875 Q2035,731.9063 2035.8438,732.5938 Q2036.6875,733.2813 2038.1875,733.2813 Q2039.0781,733.2813 2039.7031,733.0781 Q2040.0625,732.9688 2040.4688,732.6094 Q2040.7344,732.4063 2040.875,732.3438 Q2041.0156,732.2813 2041.1875,732.2813 Q2041.5156,732.2813 2041.7578,732.5391 Q2042,732.7969 2042,733.1563 Q2042,733.5 2041.6563,733.9063 Q2041.1563,734.5 2040.3594,734.8281 Q2039.3125,735.2813 2038.0313,735.2813 Q2036.5313,735.2813 2035.3281,734.6875 Q2034.3594,734.2188 2033.6797,733.2031 Q2033,732.1875 2033,730.9844 L2033,729.8906 Q2033,728.6406 2033.6016,727.5469 Q2034.2031,726.4531 2035.2578,725.8672 Q2036.3125,725.2813 2037.5,725.2813 Q2038.2188,725.2813 2038.8438,725.5313 Q2039.4688,725.7813 2040,726.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="2052" y="734.6914">CardChannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2024" x2="2128" y1="745.7813" y2="745.7813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2024" x2="2128" y1="753.7813" y2="753.7813"/><!--class ICardReader--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="48" id="ICardReader" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="1310.5" y="53.2813"/><ellipse cx="1325.5" cy="69.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1327.5,65.7813 Q1327.7031,65.2813 1327.9375,65.0313 Q1328.1719,64.7813 1328.4375,64.7813 Q1328.9063,64.7813 1329.2031,65.0625 Q1329.5,65.3438 1329.5,66 L1329.5,67.5625 Q1329.5,68.2188 1329.2188,68.5 Q1328.9375,68.7813 1328.5,68.7813 Q1328.1094,68.7813 1327.8594,68.6094 Q1327.6094,68.4375 1327.5,67.9844 Q1327.4531,67.6719 1327.2813,67.5 Q1326.9688,67.1719 1326.4063,66.9766 Q1325.8438,66.7813 1325.2813,66.7813 Q1324.5781,66.7813 1323.9922,67.0625 Q1323.4063,67.3438 1322.9531,67.9688 Q1322.5,68.5938 1322.5,69.4531 L1322.5,70.375 Q1322.5,71.4063 1323.3438,72.0938 Q1324.1875,72.7813 1325.6875,72.7813 Q1326.5781,72.7813 1327.2031,72.5781 Q1327.5625,72.4688 1327.9688,72.1094 Q1328.2344,71.9063 1328.375,71.8438 Q1328.5156,71.7813 1328.6875,71.7813 Q1329.0156,71.7813 1329.2578,72.0391 Q1329.5,72.2969 1329.5,72.6563 Q1329.5,73 1329.1563,73.4063 Q1328.6563,74 1327.8594,74.3281 Q1326.8125,74.7813 1325.5313,74.7813 Q1324.0313,74.7813 1322.8281,74.1875 Q1321.8594,73.7188 1321.1797,72.7031 Q1320.5,71.6875 1320.5,70.4844 L1320.5,69.3906 Q1320.5,68.1406 1321.1016,67.0469 Q1321.7031,65.9531 1322.7578,65.3672 Q1323.8125,64.7813 1325,64.7813 Q1325.7188,64.7813 1326.3438,65.0313 Q1326.9688,65.2813 1327.5,65.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="1339.5" y="74.1914">ICardReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1311.5" x2="1412.5" y1="85.2813" y2="85.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1311.5" x2="1412.5" y1="93.2813" y2="93.2813"/><!--class AbstractAndroidCardReaderController--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="48" id="AbstractAndroidCardReaderController" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="2089" y="331.2813"/><ellipse cx="2104" cy="347.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2106,343.7813 Q2106.2031,343.2813 2106.4375,343.0313 Q2106.6719,342.7813 2106.9375,342.7813 Q2107.4063,342.7813 2107.7031,343.0625 Q2108,343.3438 2108,344 L2108,345.5625 Q2108,346.2188 2107.7188,346.5 Q2107.4375,346.7813 2107,346.7813 Q2106.6094,346.7813 2106.3594,346.6094 Q2106.1094,346.4375 2106,345.9844 Q2105.9531,345.6719 2105.7813,345.5 Q2105.4688,345.1719 2104.9063,344.9766 Q2104.3438,344.7813 2103.7813,344.7813 Q2103.0781,344.7813 2102.4922,345.0625 Q2101.9063,345.3438 2101.4531,345.9688 Q2101,346.5938 2101,347.4531 L2101,348.375 Q2101,349.4063 2101.8438,350.0938 Q2102.6875,350.7813 2104.1875,350.7813 Q2105.0781,350.7813 2105.7031,350.5781 Q2106.0625,350.4688 2106.4688,350.1094 Q2106.7344,349.9063 2106.875,349.8438 Q2107.0156,349.7813 2107.1875,349.7813 Q2107.5156,349.7813 2107.7578,350.0391 Q2108,350.2969 2108,350.6563 Q2108,351 2107.6563,351.4063 Q2107.1563,352 2106.3594,352.3281 Q2105.3125,352.7813 2104.0313,352.7813 Q2102.5313,352.7813 2101.3281,352.1875 Q2100.3594,351.7188 2099.6797,350.7031 Q2099,349.6875 2099,348.4844 L2099,347.3906 Q2099,346.1406 2099.6016,345.0469 Q2100.2031,343.9531 2101.2578,343.3672 Q2102.3125,342.7813 2103.5,342.7813 Q2104.2188,342.7813 2104.8438,343.0313 Q2105.4688,343.2813 2106,343.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="2118" y="352.1914">AbstractAndroidCardReaderController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2090" x2="2328" y1="363.2813" y2="363.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2090" x2="2328" y1="371.2813" y2="371.2813"/><!--class ICardReaderControllerProvider--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="48" id="ICardReaderControllerProvider" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="1852" y="331.2813"/><ellipse cx="1867" cy="347.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1869,343.7813 Q1869.2031,343.2813 1869.4375,343.0313 Q1869.6719,342.7813 1869.9375,342.7813 Q1870.4063,342.7813 1870.7031,343.0625 Q1871,343.3438 1871,344 L1871,345.5625 Q1871,346.2188 1870.7188,346.5 Q1870.4375,346.7813 1870,346.7813 Q1869.6094,346.7813 1869.3594,346.6094 Q1869.1094,346.4375 1869,345.9844 Q1868.9531,345.6719 1868.7813,345.5 Q1868.4688,345.1719 1867.9063,344.9766 Q1867.3438,344.7813 1866.7813,344.7813 Q1866.0781,344.7813 1865.4922,345.0625 Q1864.9063,345.3438 1864.4531,345.9688 Q1864,346.5938 1864,347.4531 L1864,348.375 Q1864,349.4063 1864.8438,350.0938 Q1865.6875,350.7813 1867.1875,350.7813 Q1868.0781,350.7813 1868.7031,350.5781 Q1869.0625,350.4688 1869.4688,350.1094 Q1869.7344,349.9063 1869.875,349.8438 Q1870.0156,349.7813 1870.1875,349.7813 Q1870.5156,349.7813 1870.7578,350.0391 Q1871,350.2969 1871,350.6563 Q1871,351 1870.6563,351.4063 Q1870.1563,352 1869.3594,352.3281 Q1868.3125,352.7813 1867.0313,352.7813 Q1865.5313,352.7813 1864.3281,352.1875 Q1863.3594,351.7188 1862.6797,350.7031 Q1862,349.6875 1862,348.4844 L1862,347.3906 Q1862,346.1406 1862.6016,345.0469 Q1863.2031,343.9531 1864.2578,343.3672 Q1865.3125,342.7813 1866.5,342.7813 Q1867.2188,342.7813 1867.8438,343.0313 Q1868.4688,343.2813 1869,343.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="170" x="1881" y="352.1914">ICardReaderControllerProvider</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1853" x2="2053" y1="363.2813" y2="363.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1853" x2="2053" y1="371.2813" y2="371.2813"/><!--class Handler--><rect fill="#FEFECE" filter="url(#fl5mjaz56b0dx)" height="48" id="Handler" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="232" y="331.2813"/><ellipse cx="247" cy="347.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M249,343.7813 Q249.2031,343.2813 249.4375,343.0313 Q249.6719,342.7813 249.9375,342.7813 Q250.4063,342.7813 250.7031,343.0625 Q251,343.3438 251,344 L251,345.5625 Q251,346.2188 250.7188,346.5 Q250.4375,346.7813 250,346.7813 Q249.6094,346.7813 249.3594,346.6094 Q249.1094,346.4375 249,345.9844 Q248.9531,345.6719 248.7813,345.5 Q248.4688,345.1719 247.9063,344.9766 Q247.3438,344.7813 246.7813,344.7813 Q246.0781,344.7813 245.4922,345.0625 Q244.9063,345.3438 244.4531,345.9688 Q244,346.5938 244,347.4531 L244,348.375 Q244,349.4063 244.8438,350.0938 Q245.6875,350.7813 247.1875,350.7813 Q248.0781,350.7813 248.7031,350.5781 Q249.0625,350.4688 249.4688,350.1094 Q249.7344,349.9063 249.875,349.8438 Q250.0156,349.7813 250.1875,349.7813 Q250.5156,349.7813 250.7578,350.0391 Q251,350.2969 251,350.6563 Q251,351 250.6563,351.4063 Q250.1563,352 249.3594,352.3281 Q248.3125,352.7813 247.0313,352.7813 Q245.5313,352.7813 244.3281,352.1875 Q243.3594,351.7188 242.6797,350.7031 Q242,349.6875 242,348.4844 L242,347.3906 Q242,346.1406 242.6016,345.0469 Q243.2031,343.9531 244.2578,343.3672 Q245.3125,342.7813 246.5,342.7813 Q247.2188,342.7813 247.8438,343.0313 Q248.4688,343.2813 249,343.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="261" y="352.1914">Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="233" x2="307" y1="363.2813" y2="363.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="233" x2="307" y1="371.2813" y2="371.2813"/><!--link BroadcastReceiver to FeitianBluetoothReceiver--><path d="M1911.18,781.9192 C1898.53,831.4633 1870.07,910.7313 1812,948.2813 C1712.02,1012.9303 1387.74,933.0743 1277,976.7813 C1228.12,996.0743 1183.51,1037.5353 1155.23,1068.1703 " fill="none" id="BroadcastReceiver-FeitianBluetoothReceiver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1904.44,779.9973,1915.79,762.1083,1918.07,783.1753,1904.44,779.9973" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Card to FeitianCard--><path d="M2383.24,398.7503 C2375.99,420.0862 2364.49,445.0053 2347,462.2813 C2308.47,500.3362 2287.94,498.8633 2235,510.2813 C2213.22,514.9793 1854.17,508.8143 1834,518.2813 C1805.05,531.8663 1778.81,552.2343 1755.7,575.1663 " fill="none" id="Card-FeitianCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2376.59,396.5453,2389.03,379.3913,2390,400.5593,2376.59,396.5453" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FeitianCard to FeitianCardChannel--><path d="M1562.91,913.5722 C1562.47,925.2172 1563.38,936.8573 1566,948.2813 C1568.27,958.1692 1571.24,968.1583 1574.7,978.0513 " fill="none" id="FeitianCard-FeitianCardChannel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1563.96,900.4333,1559.4959,906.0964,1563.0065,912.3953,1567.4706,906.7321,1563.96,900.4333" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1567" y="944.7764">basicChannel</text><!--link FeitianCardChannel to FeitianCard--><path d="M1649.51,964.8923 C1649.7,959.2833 1649.86,953.7293 1650,948.2813 C1650.4,932.7333 1650.52,916.5353 1650.45,900.3393 " fill="none" id="FeitianCardChannel-FeitianCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1649.03,978.0583,1653.2442,972.2067,1649.4636,966.0661,1645.2494,971.9176,1649.03,978.0583" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1652" y="944.7764">feitianCard</text><!--link FeitianCardReader to CardStatusHandler--><path d="M1280.26,362.6682 C1094.84,378.6453 649.536,425.8533 535,518.2813 C483.26,560.0343 459.42,635.6913 448.851,686.0933 " fill="none" id="FeitianCardReader-CardStatusHandler" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1293.42,361.5493,1287.0992,358.0782,1281.4642,362.5778,1287.7849,366.0488,1293.42,361.5493" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CardChannel to FeitianCardChannel--><path d="M2063.85,781.4092 C2052.63,815.8303 2033.5,864.2893 2006,900.2813 C1953.15,969.4333 1869.87,1018.7993 1796.3,1051.7343 " fill="none" id="CardChannel-FeitianCardChannel" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2057.25,779.0793,2069.83,762.0283,2070.62,783.2033,2057.25,779.0793" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ICardReader to FeitianCardReader--><path d="M1362,121.7613 C1362,155.6613 1362,204.1913 1362,248.1613 " fill="none" id="ICardReader-FeitianCardReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1355,121.3412,1362,101.3412,1369,121.3412,1355,121.3412" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FeitianCardReader to FeitianCard--><path d="M1316.45,475.4453 C1316.79,487.5132 1319.34,499.3412 1325,510.2813 C1361.12,580.1043 1429.79,633.0293 1494.28,670.0893 " fill="none" id="FeitianCardReader-FeitianCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1316.89,462.2853,1312.6919,468.1484,1316.4893,474.2786,1320.6874,468.4155,1316.89,462.2853" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1326" y="506.7764">feitianCard</text><!--link AbstractAndroidCardReaderController to FeitianCardReaderController--><path d="M2171.93,393.3003 C2129.58,432.4272 2056.12,491.0873 1979,510.2813 C1960.08,514.9913 1294.23,509.1523 1277,518.2813 C1248.52,533.3703 1224.27,556.4573 1204.07,582.0643 " fill="none" id="AbstractAndroidCardReaderController-FeitianCardReaderController" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="2167.26,388.0833,2186.58,379.3833,2176.9,398.2333,2167.26,388.0833" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FeitianCardReaderController to FeitianBluetoothReceiver--><path d="M1124.54,906.6613 C1124.38,967.0543 1124.21,1029.6893 1124.1,1068.0813 " fill="none" id="FeitianCardReaderController-FeitianBluetoothReceiver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1124.58,893.4133,1120.5635,899.4022,1124.547,905.4132,1128.5635,899.4242,1124.58,893.4133" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="1126" y="944.7764">feitianBluetoothReceiver</text><!--link ICardReaderControllerProvider to FeitianCardReaderProvider--><path d="M1929.73,396.6373 C1905.65,433.9523 1864.25,487.0343 1812,510.2813 C1785.93,521.8783 809.622,503.8723 785,518.2813 C723.33,554.3713 689.446,633.4883 673.011,685.9513 " fill="none" id="ICardReaderControllerProvider-FeitianCardReaderProvider" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1923.82,392.8882,1940.28,379.5403,1935.73,400.2373,1923.82,392.8882" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FeitianConnector to FeitianCard--><path d="M915.218,646.0023 C931.21,606.2093 956.389,563.4823 995,540.2813 C1093.29,481.2213 1141.44,513.7653 1253,540.2813 C1337.15,560.2823 1423.74,601.3693 1494.06,640.9153 " fill="none" id="FeitianConnector-FeitianCard" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="910.546,658.2323,916.424,654.0551,914.8289,647.0226,908.9509,651.1998,910.546,658.2323" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="1397.5" y="506.7764">feitianCard</text><!--link Handler to CardStatusHandler--><path d="M288.805,398.1253 C320.419,468.4713 384.098,610.1663 418.206,686.0603 " fill="none" id="Handler-CardStatusHandler" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="282.253,400.6223,280.439,379.5103,295.023,394.8833,282.253,400.6223" style="stroke: #A80036; stroke-width: 1.0;"/><!--link CardStatusHandler to CardEventTransmitter--><path d="M400.906,800.5233 C357.6,867.2103 288.915,972.9803 244.913,1040.7382 " fill="none" id="CardStatusHandler-CardEventTransmitter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="408.157,789.3563,401.5346,792.2099,401.6216,799.4205,408.244,796.5668,408.157,789.3563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="316" y="944.7764">cardEventTransmitter</text><!--
@startuml

title __CARDREADER.PROVIDER.BLUETOOTH.FEITIAN's Class Diagram__\n


  package de.gematik.ti.cardreader.provider.bluetooth.feitian {
      package de.gematik.ti.cardreader.provider.bluetooth.feitian.control {
        class CardStatusHandler {
            {static} - LOG : Logger
            + CardStatusHandler()
            + handleMessage()
            + informAboutCardPresent()
        }
      }
    }


    package de.gematik.ti.cardreader.provider.bluetooth.feitian {
      package de.gematik.ti.cardreader.provider.bluetooth.feitian.control {
        class FeitianBluetoothReceiver {
            {static} - LOG : Logger
            + onReceive()
        }
      }
    }


    package de.gematik.ti.cardreader.provider.bluetooth.feitian {
      package de.gematik.ti.cardreader.provider.bluetooth.feitian.control {
        class FeitianCardReaderController {
            {static} - LOG : Logger
            {static} - instance : FeitianCardReaderController
            - cardReaders : Map<String, ICardReader>
            - bluetoothAdapter : BluetoothAdapter
            - pairedDevices : Set<BluetoothDevice>
            - context : Context
            - FeitianCardReaderController()
            {static} + getInstance()
            + getCardReaders()
            - init()
            - intitializeBluetoothAdapter()
            - createReceiver()
            - readDevices()
            - checkUuids()
            - addNewAndInform()
            ~ removeAndInform()
            + checkAdapter()
            + actualizeReaderList()
            + actualizeSocketToDevice()
        }
      }
    }


   package de.gematik.ti.cardreader.provider.api {
       class CardEventTransmitter {
           {static} - LOG : Logger
           ~ CardEventTransmitter()
           + informAboutCardPresent()
           + informAboutCardAbsent()
           + informAboutCardUnknown()
           + informAboutCardTimeout()
       }
     }


  package de.gematik.ti.cardreader.provider.bluetooth.feitian {
    package de.gematik.ti.cardreader.provider.bluetooth.feitian.entities {
      class FeitianCard {
                - bluetoothCard : Card
                - feitianCardAtr : byte[]
                {static} - MANAGE_CHANNEL_COMMAND_OPEN : CommandAPDU
                {static} - RESPONSE_SUCCESS : int
                - exclusiveThread : Thread
                - props : Properties
                - cardStatusHandler : Handler
                + FeitianCard()
                + getATR()
                + getProtocol()
                + getBasicChannel()
                + openLogicalChannel()
                ~ transceive()
                + beginExclusive()
                + endExclusive()
                + transmitControlCommand()
                + disconnect()
                + checkExclusive()
                + getBluetoothCard()
                ~ checkCardOpen()
            }
    }
  }


  package de.gematik.ti.cardreader.provider.bluetooth.feitian {
    package de.gematik.ti.cardreader.provider.bluetooth.feitian.entities {
      class FeitianCardChannel {
                - channelNo : int
                {static} - MANAGE_CHANNEL_COMMAND_CLOSE : CommandAPDU
                {static} - RESPONSE_SUCCESS : int
                {static} - LOW_CHANNEL_NUMBER_VALUE : int
                {static} - MAX_CHANNEL_NO_VALUE : int
                - channelClosed : boolean
                + FeitianCardChannel()
                + FeitianCardChannel()
                + getCard()
                + getChannelNumber()
                + transmit()
                + transmit()
                + close()
                - modifyCommandForLogicalChannel()
                - checkChannelClosed()
      }
    }
  }


  package de.gematik.ti.cardreader.provider.bluetooth.feitian {
    package de.gematik.ti.cardreader.provider.bluetooth.feitian.entities {
      class FeitianCardReader {
                - name : String
                {static} - PROTOCOL_T1 : String
                + FeitianCardReader()
                + initialize()
                + isInitialized()
                + connect()
                + connect()
                + getName()
                + isCardPresent()
                + waitForCardAbsent()
                + waitForCardPresent()
                + setName()
      }
    }
  }


  package de.gematik.ti.cardreader.provider.bluetooth.feitian {
    package de.gematik.ti.cardreader.provider.bluetooth.feitian.control {
      class FeitianCardReaderProvider {
                - providerDescriptor : ProviderDescriptor
                + FeitianCardReaderProvider()
                + getCardReaderController()
                + getDescriptor()
      }
    }
  }


  package de.gematik.ti.cardreader.provider.bluetooth.feitian {
    package de.gematik.ti.cardreader.provider.bluetooth.feitian.control {
      class FeitianConnector {
                - mSocket : BluetoothSocket
                - inputStream : InputStream
                - outputStream : OutputStream
                - feitianDevice : BluetoothDevice
                + FeitianConnector()
                + run()
                - createSocket()
                + getFeitianCard()
      }
    }
  }


  FeitianBluetoothReceiver -up-|> BroadcastReceiver
  FeitianCard -up-|> Card
  FeitianCard o- - FeitianCardChannel : basicChannel
  FeitianCardReader o- - CardStatusHandler
  FeitianCardChannel -up-|> CardChannel
  FeitianCardChannel o- - FeitianCard : feitianCard
  FeitianCardReader -up-|> ICardReader
  FeitianCardReader o- - FeitianCard : feitianCard
  FeitianCardReaderController -up-|> AbstractAndroidCardReaderController
  FeitianCardReaderController o- - FeitianBluetoothReceiver : feitianBluetoothReceiver
  FeitianCardReaderProvider -up-|> ICardReaderControllerProvider
  FeitianConnector o- - FeitianCard : feitianCard

  CardStatusHandler -up-|> Handler
  CardStatusHandler o- - CardEventTransmitter : cardEventTransmitter


@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_202-release-1483-b03
Operating System: Windows 7
OS Version: 6.1
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>